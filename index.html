<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Echo - Webchat App</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        color: #fff;
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      header {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 2rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      header h1 {
        font-size: 1.5rem;
        color: #00d4ff;
      }

      nav a {
        color: #fff;
        text-decoration: none;
        margin: 0 1rem;
        transition: 0.3s;
      }

      nav a:hover {
        color: #00d4ff;
      }

      main {
        flex: 1;
        display: flex;
      }

      .sidebar {
        flex: 1;
        min-width: 250px;
        max-width: 300px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 1rem;
        overflow-y: auto;
        border-right: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s;
      }

      .chat-list {
        list-style: none;
      }

      .chat-list li {
        padding: 0.8rem;
        margin-bottom: 0.5rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        cursor: pointer;
        transition: 0.3s;
      }

      .chat-list li:hover {
        background: rgba(0, 212, 255, 0.2);
      }

      .chat-area {
        flex: 3;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        background: rgba(255, 255, 255, 0.05);
        padding: 1rem;
        border-radius: 10px;
        margin: 1rem;
        transition: all 0.3s;
        position: relative;
      }

      .back-arrow {
        display: none;
        position: absolute;
        width: 100%;
        top: 10px;
        left: 10px;
        font-size: 1.5rem;
        cursor: pointer;
        color: #00d4ff;
      }

      .messages {
        flex: 1;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .message {
        max-width: 70%;
        padding: 0.8rem 1rem;
        border-radius: 20px;
        background: rgba(0, 212, 255, 0.2);
        align-self: flex-start;
      }

      .message.sent {
        align-self: flex-end;
        background: rgba(0, 255, 170, 0.2);
      }

      .input-area {
        display: flex;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .input-area input {
        flex: 1;
        padding: 0.8rem;
        border: none;
        border-radius: 10px;
        outline: none;
      }

      .input-area button {
        background: #00d4ff;
        border: none;
        padding: 0.8rem 1.2rem;
        border-radius: 10px;
        color: #000;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
      }

      .input-area button:hover {
        background: #00ffaa;
      }

      @media (max-width: 565px) {
        main {
          flex-direction: column;
        }
        .chat-area {
          margin: 0.5rem;
          display: none;
        }
        .chat-area.active {
          display: flex;
        }

        .sidebar {
          flex: 1;
          max-width: 100%;
        }

        .sidebar.hidden{
          display: none;
        }

        .messages {
          margin-top: 50px;
        }

        .back-arrow {
          display: block;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Echo</h1>
      <nav>
        <a href="">Home</a>
        <a href="./profile.html">Profile</a>
        <a href="./settings.html">Settings</a>
      </nav>
    </header>

    <main>
      <aside class="sidebar" id="sidebar">
        <ul class="chat-list">
          <li onclick="openChat('Harsh')">Harsh</li>
          <li onclick="openChat('Himanshu')">Himanshu</li>
          <li onclick="openChat('Hemank')">Hemank</li>
        </ul>
      </aside>

      <section class="chat-area" id="chatArea">
        <div class="back-arrow" onclick="closeChat()">‚Üê</div>
        <div class="messages" id="messages">
          <div class="message">Hey there!</div>
          <div class="message sent">Hello!</div>
        </div>
        <form class="input-area" onsubmit="sendMessage(event)">
          <input
            type="text"
            id="messageInput"
            placeholder="Type a message..."
          />
          <button type="submit">Send</button>
        </form>
      </section>
    </main>

    <script>
      const messagesContainer = document.getElementById("messages");
      const messageInput = document.getElementById("messageInput");
      const chatArea = document.getElementById("chatArea");
      const sidebar = document.getElementById("sidebar");

      function sendMessage(e) {
        e.preventDefault();
        const msg = messageInput.value.trim();
        if (!msg) return;

        const div = document.createElement("div");
        div.classList.add("message", "sent");
        div.textContent = msg;
        messagesContainer.appendChild(div);

        messageInput.value = "";
        messagesContainer.scrollTop = messagesContainer.scrollHeight;

        setTimeout(() => {
          const reply = document.createElement("div");
          reply.classList.add("message");
          reply.textContent = "Got it!";
          messagesContainer.appendChild(reply);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }, 1000);
      }

      function openChat(name) {
        messagesContainer.innerHTML = `<div class='message'>Chat started with ${name}</div>`;
        if (window.innerWidth <= 565) {
          chatArea.classList.add("active");
          chatArea.classList.add("added");
          sidebar.classList.add("hidden");
        }
      }

      function closeChat() {
        chatArea.classList.remove("active");
        chatArea.classList.remove("added");
        sidebar.classList.remove("hidden");
      }

      window.addEventListener("resize", () => {
        if (window.innerWidth > 565) {
          sidebar.classList.remove("hidden");
          chatArea.classList.remove("active");
        }
        else{
          if (chatArea.classList.contains("added")) {
            chatArea.classList.add("active");
            sidebar.classList.add("hidden");
          }
        }
      });
    </script>
  </body>
</html>
